{% extends "base.html" %}
{% block content %}
<!-- <div class="dropdown" id="filter-tasks">
    <a class="btn btn-primary dropdown-toggle" href="/" role="button" id="dropdownMenuLink" data-bs-toggle="dropdown"
        aria-expanded="false">Filter Tasks by</a>
    <ul class="dropdown-menu" aria-labelledby="dropdownMenuLink">
        <li><a class="dropdown-item" href="calendar">Calendar</a></li>
        <li><a class="dropdown-item" href="all_tasks_complete">Show Completed Tasks Only</a></li>
        <li><a class="dropdown-item" href="all_tasks_hide_complete">Hide Completed Tasks</a></li>
        <li><a class="dropdown-item" href="all_tasks_filter_date">Due Date</a></li>
        <li class="dropdown-item">
            <form style="display: inline-block;" action="/all_tasks_filter_category" method="post" id="filter_form">
                {% csrf_token %}
                <label for="category">Category:</label>
                <select id="category" type="category" name="category" onchange="filter_form.submit()">
                    {% for item in Task_Category  %}
                    <option value="{{ item.id }}">{{ item.name }}</option>
                    {% endfor %}
                </select>
            </form>
        </li>
    </ul>
</div> -->
<br>
<div id="card-parent" class="col">
    {% for mom_task in mom_task_list %}
    <div class="row">
        <div class="col">
            <!-- <div class="card"> -->
            <div class="row">
                <div class="card-body">
                    <div class="image-container">
                        {% if "placeholder" in mom_task.featured_image.url %}
                        <img class="card-img-top" src=" {{ mom_task.category.featured_image.url }}">
                        {% else %}
                         <img src="static/mom_task_category_images/other1.jpg" class="card-img-top"
                         alt="default task image">

                        {% endif %}
                    </div>
                    
                    <span class="card-title">{{ mom_task.title }}</span>
                    <br>
                    <span class="card-text">Category: {{ mom_task.category }}</span>
                    <br>

                    <span class="card-text">Due on: {{ mom_task.end_time }}</span>
                    <br>
                    <br>
                    <span class="card-text">{{ mom_task.description }}</span>
                    <br>
                    <br>
                    <a class="btn btn-warning" href="/edit/{{ mom_task.id }}">Edit</a>

                    {% if mom_task.complete == False %}
                    <a class="btn btn-secondary" href="/toggle_complete/{{ mom_task.id }}">Mark complete</a>
                    {% else %}
                    <a class="btn btn-success" href="/toggle_complete/{{ mom_task.id }}">Completed</a>
                    {% endif %}

                </div>
            </div>
        </div>
    </div>
    {% endfor %}
</div>

{% if not mom_task_list %}
<div class="center">
            <div class="alert {{ message.tags }} alert-dismissible fade show" role="alert"
                style="background-color: #FAF7F4;">
                <span style="color:#6A4C39;">No Tasks to Show</span>
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
</div>
{% endif %}

{% endblock content %}